#{extends themeInfo.get('themeLayout') /}

#{set title: messages.get('thing.groups') /}

#{set bodyId: 'organization' /}

#{breadcrumbs /}

#{organizationNavBar orgId: orgId, active:"groups", isOwner: isOwner, currentLanguage: currentLanguage /}

<div class="row">
    <div class="span12">
        <table class="table table-striped">
            <caption>&{'org.group.list'}</caption>
            <thead>
                <th>&{'thing.name'}</th>
                <th>&{'thing.action'}</th>
            </thead>
            <tbody>
            #{list groups, as: 'group'}
                #{if group.grantType == models.GrantType.OWN().key}
                <tr>
                    <td>${group.name} - &{'org.list.memberCount', group.users.size()} &{'org.list.grantType.own'}</td>
                    <td>#{if isOwner}<a href="/organizations/${orgId}/groups/update/${group._id}">Edit</a>#{/if}</td>
                </tr>
                #{/if}
                #{else}
                <tr>
                    <td>${group.name} - &{'org.list.memberCount', group.users.size()}</td>
                    <td>#{if isOwner}<a href="/organizations/${orgId}/groups/update/${group._id}">Edit</a>#{/if}</td>
                </tr>
                #{/else}
            #{/list}
            #{else}
                <tr>
                    <td>No groups defined</td>
                    <td>#{if isOwner}<a class="btn btn-primary btn-prominent" href="/organizations/${orgId}/groups/create">&{'org.group.create'}</a>#{/if}</td>
                </tr>
            #{/else}
            </tbody>
        </table>
    </div>
</div>

