#{extends 'header.html' /}
#{set title: title /}
#{breadcrumbs /}

<div class="grid_16 alpha" id="items">
    #{if browsedUserName}
    <h2>Browse ${itemName.pluralize()} owned by: <span>${browsedUserName}</span> (${count})</h2>
    #{/if}
    #{else}
    <h2>Browse ${itemName.pluralize()} (${count})</h2>
    #{/else}

    #{if items.length() > 0}
        <div id="pager">#{pagination selector: "#pager", count: count, start: page /}</div>
    #{/if}
    #{else}
      <p>There are currently no ${itemName.pluralize()} available</p>
    #{/else}

    <div class="clear"></div>
    <div class="items">
    #{list items, as: 'i'}
    <div class="item two-col">
      <div class="inner">
        <div class="media medium">
            <img src='${views.context.package.thumbnailUrl(i.thumbnail)}' width="84" alt="${i.title}"/>
        </div>
        <div class="metadata">
            <div class="hd">
                <h4><a href="/${i.userName}/${itemName}/${i.id}">${i.title}</a></h4>
            </div>
            <div class="bd">
                ${i.description}
            </div>
            <div class="ft">
            #{if i.userName == userName}
            <div class="actions">
                <a class="action edit image-edit" href="/${i.userName}/${itemName}/${i.id}/update">Edit ${itemName.capitalize()}</a>
            </div>
            #{/if}
            </div>
        </div>
       </div>
    </div>
    #{/list}
    </div>
</div>