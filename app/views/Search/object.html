#{extends viewUtils.themeProperty('themeLayout') /}

#{set title:'Search results' /}

#{breadcrumbs params:["title":["url":"", "label": fullDoc.getTitle()]] /}

<h1 class="sep">${fullDoc.getTitle().shorten(100)}</h1>

<div class="row">
    <div class="g-12of12">
        <div class="media record">
            <img src="${fullDoc.getThumbnail()}" class="img" width="350" alt="${fullDoc.getTitle()}"/>
            <div class="extra">
                <a href="#" class="overlay-trigger" rel="#overlay" title="&{'ui.label.enlargeImage'}">&{'ui.label.enlargeImage'}</a>
            </div>
            <div class="bd">
                #{if returnToResults}
                 #{thingToolbar extraButtons:[[label:viewUtils.getKey('ui.label.returnToResults'), url:"/search?"+returnToResults, iconClass:"icon205"]] /}
                #{/if}
                #{else}
                 #{thingToolbar /}
                #{/else}
                <div class="metadata">
                    <h5>&{'metadata.dc.description'}:</h5>
                    <p>${fullDoc.getDescription().isEmpty() ? "No description available" : fullDoc.getDescription()}</p>
                    <hr/>
                    <div class="row">
                        <div class="g-1of2 alpha">
                            #{metadataField label: viewUtils.getKey('metadata.dc.title'), data: fullDoc.getTitle() /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.type'), data: fullDoc.getAsString("dc_type") /}
                            #{metadataField label: viewUtils.getKey('metadata.dcterms.alternative'), data: fullDoc.getConcatenatedList("dcterms_alternative", ["_metadata.dcterms.alternative"]), separator:", "  /}
                            #{metadataField label: viewUtils.getKey('metadata.icn.material'), data: fullDoc.getAsString("icn_material") /}
                            #{metadataField label: viewUtils.getKey('metadata.icn.creatorYearOfBirth'), data: fullDoc.getConcatenatedList("icn_creatorYearOfBirth", ["icn_creatorYearOfBirth"]), separator:", "  /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.subject'), data: fullDoc.getConcatenatedList("dc_subject", ["dc_subject","dcterms_temporal","dcterms_spatial","dc_coverage"]), separator:", "  /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.source'), data: fullDoc.getAsString("dc_source") /}
                        </div>
                        <div class="g-1of2 omega">
                            #{metadataField label: viewUtils.getKey('metadata.dc.creator'), data: fullDoc.getCreator() /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.date'), data: fullDoc.getYear() /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.language'), data: fullDoc.getLanguage() /}
                            #{metadataField label: viewUtils.getKey('metadata.europeana.dataProvider'), data: fullDoc.getDataProvider() /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.format'), data: fullDoc.getConcatenatedList("dc_format", ["dc_format", "dcterms_extent"]), separator:", "  /}
                            #{metadataField label: viewUtils.getKey('metadata.dc.relation'), data: fullDoc.getConcatenatedList("dc_relation", [
                                "dc_relation", "dcterms_references", "dcterms_isReferencedBy", "dcterms_isReplacedBy", "dcterms_isRequiredBy", "dcterms_isPartOf", "dcterms_hasPart",
                                "dcterms_replaces", "dcterms_requires", "dcterms_isVersionOf", "dcterms_hasVersion", "dcterms_conformsTo", "dcterms_hasFormat"]), separator:", "  /}
                            #{metadataField label: viewUtils.getKey('metadata.dcterms.provenance'), data: fullDoc.getAsString("dcterms_provenance") /}
                            #{metadataField label: viewUtils.getKey('metadata.icn.technique'), data: fullDoc.getAsString("icn_technique") /}

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- overlayed element -->
<div id="overlay" class="result-overlay" style="padding: 20px;width:auto">
<div class="contentWrap">
    <img src="${fullDoc.getThumbnail()}" alt="${fullDoc.getTitle()}"/>
    <div class="title"> ${fullDoc.getTitle()}</div>
</div>
</div>

<script>
    $(function () {
        $("a.overlay-trigger").overlay();
});
</script>
*{
Possible methods
def getAsArray(key: String) : Array[String] = assign(key)
def getAsString(key: String) : String = assignFirst(key)
def getFieldValue(key : String) : FieldValue = FieldValue(key, solrDocument)
def getFieldValueList: JList[FieldValue] = solrDocument.getFieldValueList
def getFieldValuesFiltered(include: Boolean, fields: Array[String]) : JList[FieldValue] = solrDocument.getFieldValuesFiltered(include, fields.toList)
def getConcatenatedArray(key: String, fields: Array[String]) : FieldFormatted = solrDocument.getConcatenatedArray(key, fields.toList)

def getId : String = assign("delving_hubId")
def getDelvingId : String = assign("delving_pmhId")
def getTitle : String = assign("dc_title")
def getDescription: String = assign("dc_description")
def getThumbnail : String = assign("europeana_object")
def getCreator : String = assign("dc_creator")
def getYear : String = assign("europeana_year")
def getProvider : String = assign("europeana_provider")
def getDataProvider : String = assign("europeana_dataProvider")
def getLanguage : String = assign("europeana_language")

}*