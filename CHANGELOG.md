# CultureHub changelog

This is the changelog of the CultureHub. It documents changes of the main platform, without modules.

# 12.07

### New features

- manu, eric: complete overhaul of the DataSet page. Now using WebSockets to keep clients in sync

### Fixes and refactoring

- manu: refactoring VirtualCollections to a plugin
- manu: renaming PortalTheme to DomainConfiguration
- manu: using new play2-extensions version, addressing a memory-leak


# 12.06

### New features

- manu: new storage layer:
  - all items saved in mongodb are now in a standardized `MetadataCache`, each item being a `MetadataItem`
  - using BaseX (http://www.basex.org) in order to store source data
- manu: AFF API rendering
- manu: verbatim rendering mechanism for APIs
- manu: DirectoryService lookup to match Provider and DataProvider in the DataSet creation page
- eric: statistics mockup
- manu: multiple domain support for themes (#42)
- manu: buildinfo now prints which version of the hub and the sip-creator are used at startup
- manu: replacing scala pull parser with stax
- manu: redeploy action
- manu: Making it possible to reset hashes on sets stuck in parsing state
- eric: DeepZoom in full view
- eric: full view shows roles separately
- manu: Simplifying deployment process: support for "play dist" deployment
- manu: Checkbox to select whether the query count of a VirtualCollection should be recomputed periodically or not
- manu: Storing statistics generated by the Sip-Creator in MongoDB so that we can quickly compute aggregated statistics.
- sjoerd: misc fixes for the itin endpoint
- manu: Mechanism for giving the ID of an item in the proxy search response
- manu: OaiPmh API for listing only sets of a given format
- eric: flag to control visibility of the login links, per theme

### Fixes and refactoring
- manu: better JSON rendering for ViewRendering APIs
- manu: fix #497, #504, #509, #510, #512
- manu: changing search API layout so that it is valid when rendered as JSON
- manu: correctly rendering the language for ViewRendering API requests
- manu: improving robustness of ImageCache
- manu: Hardening front page against search backend timeout
- manu: limiting search API to MDRs
- manu: JSON rendering overhaul, in order to keep XML and JSON renering in sync
- manu: Groups can be deleted. Fixes #496
- manu: Solid JSON parsing for directory. Fixes #556
- manu: Revining OAuth2 spec, fixing response in case of error. Fixes #543
- manu: Themes are now part of the default application configuration. Closes #525
- manu: Streaming dummy image instead of trying to access via file
- eric: view improvements for several formats (MusIP, ICN)
- manu: Fixing SIP source download to generate identical content as upload

## 12.05.2

### Fixes

- sjoerd: IndexApi accepting default namespaces, aligning system fields
- sjoerd: upgrading to solr-j 3.6.0
- sjoerd: fixing deleteOrphans implementation
- sjoerd: fix in search pager
- sjoerd: fixing search summary difference between xml and json representations

## 12.05.1

### Fixes

- sjoerd: more robust extractor for hubIds, in case the localId contains an underscore
- sjoerd: Fixes to deal with html entities in the ingested xml that are not indexed properly
- manu: URL-encoding the id we get in the SearchService before querying for it, since IDs are URL-encoded in the index

## 12.05.0

### New features

- eric: entirely revisited user interface using Twitter Bootstrap
- sjoerd, manu, gerald: interoperability with the hierarchical Sip-Creator
- manu, sjoerd: revised and much more robust DataSet processing workflow
- manu, eric: XML-based ViewRendering mechanism
- manu, eric: Virtual Collections: create collections of records from various real DataSets, based on search criteria and individual exclusion of records
- manu: refactored core architecture, introducing plugin mechanism extending Play 2.0's native plugin mechanism
- manu, eric: improvements on the DataSet list page (displaying error message details)

### Fixes

- manu, sjoerd, eric: many bug fixes and robustness improvements
