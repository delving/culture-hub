/* Limit Chars: http://jleedy.tk/jqlc | Copyright (c) 2011 Joseph Leedy | MIT Licensed: http://www.opensource.org/licenses/mit-license.php */ (function(f){var a="11.10.30";var g={minChars:0,maxChars:500,allowOverLimit:true,charCountClass:"",helpText:"You must enter between {min} and {max} characters.",charsLeftText:"characters left",charsRequiredText:"characters required"};var e;var c={init:function(h){e=f.extend({},g,h);return this.each(function(){f(this).bind("paste",d);f(this).keyup(d);e.minChars=f(this).data("min-chars")||e.minChars;e.maxChars=f(this).data("max-chars")||e.maxChars;e.allowOverLimit=f(this).data("allow-over-limit")||e.allowOverLimit;var i=f('<label for="'+this.id+'" class="char-count '+e.charCountClass+'" title="'+e.helpText.replace("{min}",e.minChars).replace("{max}",e.maxChars)+'" />').append("<span></span> "+e.charsLeftText);f(this).parent().append(i);f(this).parent().append("<!-- Character Count powered by:\n\n"+c.about()+"-->");b(f(this))})},about:function(){var h="Limit Chars v"+a+"\n\nCopyright (c) 2011 Joseph Leedy\n\nhttp://jquery.josephleedy.me/limit-chars/\n\nReleased under the MIT License:\nhttp://www.opensource.org/licenses/mit-license.php";return h}};f.fn.limitChars=function(h){if(c[h]){return c[h].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof h==="object"||!h){return c.init.apply(this,arguments)}else{f.error("Method "+h+" does not exist on jQuery.limitChars!")}}return this};function d(j){var i=f(this).val().length;var h=f(this).nextAll(".char-count");var k=f("span",h);if(i>=e.maxChars){k.addClass("char-count-over-limit");if(e.allowOverLimit==false){f(this).val(f(this).val().substring(0,e.maxChars))}}else{if(k.hasClass("char-count-over-limit")){k.removeClass("char-count-over-limit")}}b(f(this))}function b(k){var i=k.val().length;var h=k.nextAll(".char-count");var j=f("span",h);if(e.minChars>0&&i<e.minChars){j.addClass("char-count-under-limit");j.text((e.minChars-i));h.html(" "+e.charsRequiredText).prepend(j)}else{if(j.hasClass("char-count-under-limit")){j.removeClass("char-count-under-limit");h.html(" "+e.charsLeftText).prepend(j)}j.text((e.maxChars-i))}}})(jQuery);